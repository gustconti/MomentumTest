<div class="modal fade" id="createModal" tabindex="-1" aria-labelledby="createModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="createModalLabel">Nova Reserva</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="createForm">
                    <div class="mb-3">
                        <label for="cpfCnpj" class="form-label">CPF/CNPJ</label>
                        <input type="text" class="form-control" id="cpfCnpj" name="CpfCnpj" required>
                        <span class="text-danger d-none"></span>
                    </div>
                    <div class="mb-3">
                        <label for="fullName" class="form-label">Nome Completo</label>
                        <input type="text" class="form-control" id="fullName" name="FullName" required>
                        <span class="text-danger d-none"></span>
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">E-mail</label>
                        <input type="email" class="form-control" id="email" name="Email" required>
                        <span class="text-danger d-none"></span>
                    </div>
                    <div class="mb-3">
                        <label for="phone" class="form-label">Telefone</label>
                        <input type="tel" class="form-control" id="phone" name="Phone" required>
                        <span class="text-danger d-none"></span>
                    </div>
                    <div class="mb-3">
                        <label for="zipCode" class="form-label">CEP</label>
                        <input type="text" class="form-control" id="zipCode" name="ZipCode" required>
                        <span class="text-danger d-none"></span>
                    </div>
                    <div class="mb-3">
                        <label for="address" class="form-label">Endereço</label>
                        <input type="text" class="form-control" id="address" name="Address" required>
                        <span class="text-danger d-none"></span>
                    </div>
                    <div class="mb-3">
                        <label for="addressNumber" class="form-label">Número</label>
                        <input type="text" class="form-control" id="addressNumber" name="AddressNumber" required>
                        <span class="text-danger d-none"></span>
                    </div>
                    <div class="mb-3">
                        <label for="complement" class="form-label">Complemento</label>
                        <input type="text" class="form-control" id="complement" name="Complement">
                        <span class="text-danger d-none"></span>
                    </div>
                    <div class="mb-3">
                        <label for="neighborhood" class="form-label">Bairro</label>
                        <input type="text" class="form-control" id="neighborhood" name="Neighborhood" required>
                        <span class="text-danger d-none"></span>
                    </div>
                    <div class="mb-3">
                        <label for="city" class="form-label">Cidade</label>
                        <input type="text" class="form-control" id="city" name="City" required>
                        <span class="text-danger d-none"></span>
                    </div>
                    <div class="mb-3">
                        <label for="state" class="form-label">Estado</label>
                        <input type="text" class="form-control" id="state" name="State" required>
                        <span class="text-danger d-none"></span>
                    </div>
                    <div class="mb-3">
                        <label for="additionalGuests" class="form-label">Demais Hóspedes</label>
                        <input type="text" class="form-control" name="AdditionalGuests" placeholder="Nome do hóspede">
                        <button type="button" class="btn btn-secondary" id="addGuest">+</button>
                    </div>
                    <div class="mb-3">
                        <label for="startDate" class="form-label">Data de Início</label>
                        <input type="date" class="form-control" id="startDate" name="StartDate" required>
                        <span class="text-danger d-none"></span>
                    </div>
                    <div class="mb-3">
                        <label for="endDate" class="form-label">Data de Término</label>
                        <input type="date" class="form-control" id="endDate" name="EndDate" required>
                        <span class="text-danger d-none"></span>
                    </div>
                    <div class="mb-3">
                        <label for="observations" class="form-label">Observações</label>
                        <textarea class="form-control" id="observations" name="Observations"></textarea>
                        <span class="text-danger d-none"></span>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="button" class="btn btn-primary save-reservation" id="saveReservation">Reservar</button>
            </div>
        </div>
    </div>
</div>


<script>
    $(document).ready(function () {
        $('#saveReservation').on('click', function () {
            if ($("#createForm").valid()) {
                var formData = {
                    CpfCnpj: $('#cpfCnpj').val(),
                    FullName: $('#fullName').val(),
                    Email: $('#email').val(),
                    Phone: $('#phone').val(),
                    ZipCode: $('#zipCode').val(),
                    Address: $('#address').val(),
                    AddressNumber: $('#addressNumber').val(),
                    Complement: $('#complement').val(),
                    Neighborhood: $('#neighborhood').val(),
                    City: $('#city').val(),
                    State: $('#state').val(),
                    AdditionalGuests: $('input[name="AdditionalGuests"]').val(),
                    StartDate: $('#startDate').val(),
                    EndDate: $('#endDate').val(),
                    Observations: $('#observations').val(),
                };

                $.ajax({
                    url: '/Home/Create',
                    type: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify(formData),
                    success: function (result) {
                        $('#createModal').modal('hide');
                    },
                    error: function (xhr, status, error) {
                        alert('Error creating reservation: ' + xhr.responseText);
                    }
                });
            }
        });
    });
</script>

